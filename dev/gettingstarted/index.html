<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Getting Started · CoupledDipole.jl</title><link rel="canonical" href="https://nano-optics.github.io/CoupledDipole.jl/gettingstarted/"/><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script><script src="../assets/three.min.js"></script><script src="../assets/Detector.js"></script><script src="../assets/TrackballControls.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit">CoupledDipole.jl</span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li class="is-active"><a class="tocitem" href>Getting Started</a><ul class="internal"><li><a class="tocitem" href="#Installation"><span>Installation</span></a></li><li><a class="tocitem" href="#Example"><span>Example</span></a></li></ul></li><li><span class="tocitem">Introduction</span><ul><li><a class="tocitem" href="../background/">Background and Motivation</a></li><li><a class="tocitem" href="../theory/">Coupled dipole theory</a></li></ul></li><li><span class="tocitem">Implementation</span><ul><li><a class="tocitem" href="../conventions/">Conventions</a></li><li><a class="tocitem" href="../high_level/">High-level Interface</a></li><li><a class="tocitem" href="../clusters/">Cluster geometries</a></li><li><a class="tocitem" href="../materials/">Materials</a></li><li><a class="tocitem" href="../system/">System of equations</a></li><li><a class="tocitem" href="../cross_sections/">Far field cross-sections</a></li><li><a class="tocitem" href="../utils/">Utility functions</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Getting Started</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Getting Started</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/nano-optics/CoupledDipole.jl/blob/master/docs/src/gettingstarted.md#" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Getting-Started"><a class="docs-heading-anchor" href="#Getting-Started">Getting Started</a><a id="Getting-Started-1"></a><a class="docs-heading-anchor-permalink" href="#Getting-Started" title="Permalink"></a></h1><h2 id="Installation"><a class="docs-heading-anchor" href="#Installation">Installation</a><a id="Installation-1"></a><a class="docs-heading-anchor-permalink" href="#Installation" title="Permalink"></a></h2><pre><code class="language-julia">Pkg.add(&quot;CoupledDipole&quot;)</code></pre><h2 id="Example"><a class="docs-heading-anchor" href="#Example">Example</a><a id="Example-1"></a><a class="docs-heading-anchor-permalink" href="#Example" title="Permalink"></a></h2><p>A typical simulation requires two inputs: a Cluster, describing the configuration of particles, and a Material, describing the wavelength-dependent dielectric functions of all media.</p><pre><code class="language-julia">using CoupledDipole
using DataFrames
using VegaLite

## cluster geometry
cl1 = cluster_helix(4, 20, 20, 40, 200, 400, π/4, 0)
cl0 = cluster_single(20, 20, 40) # reference: single-particle

## materials
wavelengths = collect(400:2:1000.0)
media = Dict([(&quot;Au&quot;, epsilon_Au), (&quot;medium&quot;, x -&gt; 1.33)])
mat = Material(wavelengths, media)</code></pre><pre class="documenter-example-output">Material{Float64}([400.0, 402.0, 404.0, 406.0, 408.0, 410.0, 412.0, 414.0, 416.0, 418.0  …  982.0, 984.0, 986.0, 988.0, 990.0, 992.0, 994.0, 996.0, 998.0, 1000.0], Dict{String, Function}(&quot;medium&quot; =&gt; Main.ex-1.var&quot;#1#2&quot;(), &quot;Au&quot; =&gt; CoupledDipole.epsilon_Au))</pre><p>From these two objects we can simply call a high-level function to simulate optical properties. The following lines simulate the orientation-averaged optical response,</p><pre><code class="language-julia">oa0 = spectrum_oa(cl0, mat) # reference: just one particle
oa1 = spectrum_oa(cl1, mat)</code></pre><pre class="documenter-example-output">(average = CoupledDipole.CrossSections{Float64}([3822.9052006671395, 3808.367755366424, 3793.4730028345944, 3778.2603131894675, 3762.7732226569365, 3747.059162795447, 3731.169200803407, 3715.157792042868, 3699.082545255442, 3683.00400044423  …  119.96285436499396, 118.79953581850961, 117.65342698150764, 116.52418164701896, 115.41146245130608, 114.3149405994944, 113.23429560121505, 112.1692150158422, 111.11939420692319, 110.08453610542354], [3311.2647752102266, 3304.2953927764065, 3296.980716424013, 3289.354367280715, 3281.453045015952, 3273.3163507902264, 3264.986617874207, 3256.5087502891392, 3247.930069342172, 3239.3001675763317  …  47.86866960033813, 47.48117823916836, 47.099073995582586, 46.7222474977013, 46.35059229671899, 45.984004770982644, 45.622384033762, 45.26563184455015, 44.913652523739856, 44.56635287053049], [519.6129727928206, 511.7362790484216, 503.8521661297185, 495.96694041012086, 488.0879666113686, 480.22356955298045, 472.3829400519839, 464.5760457514699, 456.8135474660293, 449.10672147399157  …  72.09238784526848, 71.31655634196792, 70.55254916292391, 69.80012938257872, 69.05906599930557, 68.32913375681188, 67.610112971868, 66.90178936810605, 66.20395391564156, 65.516402676284]), dichroism = CoupledDipole.CrossSections{Float64}([-0.6269055424457906, -0.6755331690051335, -0.7182397966600725, -0.7551550503850332, -0.7864523385248201, -0.8123435591882956, -0.8330732806012268, -0.8489125912925578, -0.860152813428051, -0.8670992614138235  …  1.0087320845486016, 0.9959829793516742, 0.9834056985798529, 0.9709976584606801, 0.9587563222013691, 0.9466791988430544, 0.9347638421535154, 0.9230078495570204, 0.9114088610992633, 0.8999645584459435], [-1.5171970156337762, -1.5785427837576371, -1.6329757211186855, -1.6806089623743545, -1.721601077563023, -1.7561522872341513, -1.7845000648040603, -1.8069142862700855, -1.8236920903569938, -1.8351526076549993  …  0.07808234025065908, 0.0773481683283868, 0.0766225057428875, 0.07590522094655912, 0.07519618548525948, 0.07449527389144461, 0.07380236358195644, 0.07311733475985585, 0.07244007032099342, 0.07177045576405242], [0.398736150206102, 0.41374637331608977, 0.4264198113056531, 0.43695140244976927, 0.4455298706686188, 0.45233691377354535, 0.4575465907288961, 0.46132490232754925, 0.4638295544221662, 0.46520988878041825  …  0.9217492082488422, 0.9098555679675903, 0.8981234558131431, 0.8865504492671451, 0.8751341690657771, 0.8638722781808889, 0.8527624808339869, 0.8418025215419506, 0.8309901841929049, 0.8203232911512697]))</pre><p>From there we combine the cross-sections in long-format dataframes for plotting,</p><pre><code class="language-julia">d0 = oa_df(oa0, mat.wavelengths)
d1 = oa_df(oa1, mat.wavelengths)

d2 = [insertcols!(d1, :cluster =&gt; &quot;helix&quot;);
      insertcols!(d0, :cluster =&gt; &quot;single&quot;)]

p = d2 |&gt; @vlplot(
 width= 120,
 height =  100,
     mark = {:line, clip = true},
     row = &quot;type&quot;, column=&quot;variable&quot;,
     resolve={scale={y=&quot;independent&quot;}},
     encoding = {x = &quot;wavelength:q&quot;, y = &quot;value:q&quot;,
      strokeDash = &quot;cluster:n&quot;,  color = &quot;hand:n&quot;}
 )

p |&gt; save(&quot;helix-plot.svg&quot;)</code></pre><p><img src="../helix-plot.svg" alt/></p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../">« Home</a><a class="docs-footer-nextpage" href="../background/">Background and Motivation »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> on <span class="colophon-date" title="Friday 21 May 2021 03:55">Friday 21 May 2021</span>. Using Julia version 1.6.1.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
